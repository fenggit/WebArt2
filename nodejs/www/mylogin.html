<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>login</title>
    <script src="../../lib/jquery-3.4.1.min.js" charset="utt-8"></script>
    <script>
        $(function () {
            $('#btn1').click(() => {
                $.ajax({
                    url: '/reg',
                    data: {
                        username: $('user').val(),
                        password: $('password').val()
                    },
                    dataType: 'json',
                    //method: GET
                }).then(json => {
                    if (json.error) {
                        alert(json.message);
                    } else {
                        alert("注册成功")
                    }
                }, err => {
                    alert("注册失败" + err);
                })
            });

            $('#btn2').click(() => {
                $.ajax({
                    url: '/login',
                    data: {
                        username: $('user').val(),
                        password: $('password').val()
                    },
                    dataType: 'json',
                    //method: POST
                })
            }).then(json => {
                if (json.error) {
                    alert(json.message);
                } else {
                    alert("登陆成功")
                }
            }, err => {
                alert("登陆失败：" + err);
            });
        })
    </script>
</head>
<body>
用户名：<input type="text" id="user"><br>
密码：<input type="password" id="pwd"><br>
<input type="button" value="注册" id="btn1"><br>
<input type="button" value="登陆" id="btn2">

</body>
</html>