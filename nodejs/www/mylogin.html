<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>login</title>
    <script src="../../lib/jquery-3.4.1.min.js" type="text/javascript" charset="utt-8"></script>
    <script type="text/javascript">
        $(function () {
            $('#btn1').click(() => {
                $.ajax({
                    url: '/reg',
                    data: {
                        username: $('#user').val(),
                        password: $('#password').val()
                    },
                    dataType: 'json',
                    type:'GET'
                }).then(json => {
                    // {"error":0,"msg":"登陆成功"}
                    if (json.error) {
                        alert(json.msg);
                    } else {
                        alert("注册成功")
                    }
                }, err => {
                    alert("注册失败" + err);
                })
            });

            $('#btn2').click(() => {
                $.ajax({
                    url: '/login',
                    data: {
                        username: $('#user').val(),
                        password: $('#password').val()
                    },
                    dataType: 'json',
                    type:'POST'
                }).then(json => {
                    // error+msg：接口返回的数据字段
                    if (json.error) {
                        alert(json.msg);
                    } else {
                        alert("登陆成功")
                    }
                }, err => {
                    alert("登陆失败：" + err);
                })
            });
        })
    </script>
</head>
<body>
用户名：<input type="text" id="user"><br>
密码：<input type="password" id="password"><br>
<input type="button" value="注册" id="btn1"><br>
<input type="button" value="登陆" id="btn2">

</body>
</html>